<!-- login.component.html -->

  
<div class="login-container1 d-flex align-items-center">
  <h3>Iniciar sesión</h3>
  <form [formGroup]="form" (ngSubmit)="onEnviar($event)">
    <div class="form-group d-flex align-items-center" >
      <label for="email" >Correo electrónico</label>
      <input type="email" id="email" formControlName="email" [class.is-invalid]="MailValid">
      <div class="invalid-feedback" *ngIf="MailValid">
        <p *ngIf="Mail?.hasError('required')" class="error">
          El email es requerido.
      </p>
      <p *ngIf="Mail?.hasError('email')" class="error">
        El formato del email debe ser válido.
      </p>
      </div>
    </div>
    <div class="form-group d-flex align-items-center">
      <label for="password">Contraseña</label>
      <input type="password" id="password" formControlName="password" [class.is-invalid]="PasswordValid">
      <div class="invalid-feedback" *ngIf="PasswordValid">
        <div *ngIf="Password?.errors  && Password?.touched">
          <p *ngIf="Password?.hasError('required')" class="error">
            El password es requerido como minimo 8 caracteres.
          </p>
         
        </div>
        <div *ngIf="Password?.errors?.['minLength']">
          
            Como minimo 8 caracteres.
        
         
        </div>
      </div>
    </div>
    <div class="form-group"><hr>
      <button type="submit" class="btn btn-primary" *ngIf="!userLoginOn" >Iniciar sesión</button>
      <button type="submit" class="btn btn-primary" *ngIf="userLoginOn" routerLink="/inicio">entrar a edicion</button>
  <ng-template #noLogin>
      <div class="alert-danger" routerLink="/login">no logeado correguir</div>
    </ng-template>
    </div>
  </form>
  <div class="alert alert-danger" *ngIf="loginError">
    {{ loginError }}
  </div><hr>
  <div *ngIf="userLoginOn">
    <p>¡Has iniciado sesión correctamente!</p>
  </div>
</div>


<!-- Modal 
<form [formGroup]="form"  (ngSubmit)="onEnviar($event)">
  
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
     <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">iniciar secion</h5>
           <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
           <div class="mb-3 row">

            <div>
              <label for="staticEmail" class="col-sm-2 col-form-label">Email:</label>                         
              <input type="email" formControlName="email" [class.border-danger]="MailValid" >
          </div>
          <div *ngIf="Mail?.errors  && Mail?.touched">    
            <p *ngIf="Mail?.hasError('required')" class="error">
                El email es requerido.
            </p>
            <p *ngIf="Mail?.hasError('email')" class="error">
                El formato del email debe ser válido.
              </p>
        </div>
           </div>
           <div class="mb-3 row">
            <div>
              <label for="exampleInputPassword1" class="form-label">Password: </label>
              <input type="password" formControlName="password" [class.border-danger]="PasswordValid">
          </div>
          
          <div *ngIf="Password?.errors  && Password?.touched">
          <p *ngIf="Password?.hasError('required')" class="error">
            El password es requerido como minimo 8 caracteres.
          </p>
         
        </div>
        <div *ngIf="Password?.errors?.['minLength']">
          
            Como minimo 8 caracteres.
        
         
        </div>
           </div>
        </div>
        <div *ngIf="!userLoginOn" class="modal-footer">
           <button type="button" class="btn btn-primary" routerLink="/inicio">Iniciar Sesion</button>
          
        </div>
        <div *ngIf="userLoginOn" class="modal-footer">
          <button type="button" class="btn btn-primary" routerLink="/">cerrar Sesion</button>
         
       </div><p class="text-danger">{{loginError}}</p>
     </div>
  </div>
</div></form>
<div>
  <p>Gracias Por iniciar secion <strong>{{form.value.email}} </strong><strong>{{form.value.password}} </strong><p> 
<br>

</div>
-->